<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>&#x27;Babylon</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">&#x27;Babylon</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> &#x27;Babylon</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="pointer-events-polyfill-making-pointer-events-usable-today">Pointer Events Polyfill - making pointer events usable today</h1>
				<p><img src="pep-logo-shield.png" alt="PEP logo"></p>
				<p>PEP polyfills pointer events in all browsers that haven&#39;t yet implemented them, providing a unified, responsive input model for all devices and input types. You can <a href="#why-pointer-events">read more about pointer events below</a>.</p>
				<h2 id="getting-started">Getting Started</h2>
				<ol>
					<li><p>Place the PEP script in the document head</p>
						<ul>
							<li><code>&lt;script src=&quot;https://code.jquery.com/pep/0.4.3/pep.js&quot;&gt;&lt;/script&gt;</code></li>
						</ul>
					</li>
					<li><p>By default, no pointer events are sent from an element. This maximizes the possibility that a browser can deliver smooth scrolling and jank-free gestures. If you want to receive events, you must set the <code>touch-action</code> property of that element. Set up some elements to create events with the <a href="http://www.w3.org/TR/pointerevents/#the-touch-action-css-property"><code>touch-action</code> attribute</a>.</p>
					</li>
					<li><p>Listen for the desired events</p>
						<ul>
							<li><code>pointermove</code>: a pointer moves, similar to touchmove or mousemove.</li>
							<li><code>pointerdown</code>: a pointer is activated, or a device button held.</li>
							<li><code>pointerup</code>: a pointer is deactivated, or a device button released.</li>
							<li><code>pointerover</code>: a pointer has moved onto an element.</li>
							<li><code>pointerout</code>: a pointer is no longer on an element it once was.</li>
							<li><code>pointerenter</code>: a pointer enters the bounding box of an element.</li>
							<li><code>pointerleave</code>: a pointer leaves the bounding box of an element.</li>
							<li><code>pointercancel</code>: a pointer will no longer generate events.</li>
						</ul>
					</li>
					<li><p>As elements come and go, or have their <code>touch-action</code> attribute changed, they will send the proper set of pointer events.</p>
					</li>
				</ol>
				<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>PEP (Pointer Events Polyfill)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- include PEP --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://code.jquery.com/pep/0.4.3/pep.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"b"</span> <span class="hljs-attr">touch-action</span>=<span class="hljs-string">"none"</span>&gt;</span>Test button!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">output</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"o"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">output</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-built_in">document</span>.getElementById( <span class="hljs-string">"b"</span> ).addEventListener( <span class="hljs-string">"pointerdown"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> e </span>) </span>{
  <span class="hljs-built_in">document</span>.getElementById( <span class="hljs-string">"o"</span> ).innerHTML = <span class="hljs-string">"that was a "</span> +
    e.pointerType + <span class="hljs-string">" "</span> + e.type + <span class="hljs-string">" on a "</span>+ e.target.nodeName;
} );
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
				<p>See also the <a href="http://www.w3.org/TR/pointerevents/#examples">examples in the W3C Pointer Events Specification</a> and our own <a href="http://jquery.github.io/PEP/">samples for using PEP</a>.</p>
				<h3 id="using-pep-with-jquery">Using PEP with jQuery</h3>
				<p>You can use pointer events with jQuery and PEP:</p>
				<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"canvas"</span> <span class="hljs-attr">touch-action</span>=<span class="hljs-string">"none"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"pep.dist.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
$(<span class="hljs-string">"#canvas"</span>).on(<span class="hljs-string">"pointermove"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  draw(event);
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
				<p>Check out <a href="http://jsbin.com/bojumofowa/1/edit?html,css,js,output">this jsbin demo</a> for a full demo.</p>
				<p>jQuery doesn&#39;t copy all properties from the original event object to the event object provided in the event handler. You can find <a href="http://api.jquery.com/category/events/event-object/">a list of copied and normalized properties on the jQuery API docs</a>. To access any other original properties, use <code>event.originalEvent</code>.</p>
				<h3 id="using-pep-with-react">Using PEP with React</h3>
				<p>React doesn&#39;t support Pointer Events or <code>touch-action</code> natively, but check out the <a href="https://www.npmjs.com/package/react-pointable">&lt;Pointable/&gt; component</a> on npm for a declarative way of integrating PEP / Pointer Events into a React project.</p>
				<h2 id="why-pointer-events-">Why Pointer Events?</h2>
				<p>Mouse events and touch events are fundamentally different beasts in browsers today, and that makes it hard to write cross-platform apps.</p>
				<p>For example, a simple finger paint app needs plenty of work to behave correctly with mouse and touch:</p>
				<p>Current platforms that implement touch events also provide mouse events for backward compatibility; however, only a subset of mouse events are fired and the semantics are changed.</p>
				<ul>
					<li>Mouse events are only fired after the touch sequence ends.</li>
					<li>Mouse events are not fired on elements without a <code>click</code> event handler. One must be attached by default, or directly on the element with <code>onclick</code>.</li>
					<li><code>click</code> events are not fired if the content of the page changes in a <code>mousemove</code> or <code>mouseover</code> event.</li>
					<li><code>click</code> events are fired 300ms after the touch sequence ends.</li>
					<li>More information: <a href="http://developer.apple.com/library/safari/#documentation/appleapplications/reference/safariwebcontent/HandlingEvents/HandlingEvents.html">Apple Developer Documentation</a>.</li>
				</ul>
				<p>Additionally, touch events are sent only to the element that received the <code>touchstart</code>. This is fundamentally different than mouse events, which fire on the element that is under the mouse. To make them behave similarly, touch events need to be retargeted with <code>document.elementFromPoint</code>.</p>
				<p>These incompatibilities lead to applications having to listen to 2 sets of events, mouse on desktop and touch for mobile.</p>
				<p><strong>This forked interaction experience is cumbersome and hard to maintain.</strong></p>
				<p>Instead, there should exist a set of events that are normalized such that they behave exactly the same, no matter the source: touch, mouse, stylus, skull implant, etc. To do this right, this normalized event system needs to be available for all the web platform to use.</p>
				<p><em>Thus, Pointer Events!</em></p>
				<h2 id="polyfill-limitations">Polyfill Limitations</h2>
				<h3 id="touch-action">touch-action</h3>
				<p>According to the spec, the
				<a href="http://www.w3.org/TR/pointerevents/#the-touch-action-css-property">touch-action</a> CSS property controls whether an element will perform a &quot;default action&quot; such as scrolling, or receive a continuous stream of pointer events.</p>
				<p>Due to the difficult nature of polyfilling new CSS properties, this library will use a touch-action <em>attribute</em> instead. In addition, run time changes involving the <code>touch-action</code> attribute will be monitored for maximum flexibility.</p>
				<p>Touches will not generate events unless inside of an area that has a valid <code>touch-action</code> attribute defined. This is to maintain composition scrolling optimizations where possible.</p>
				<h2 id="navigator-maxtouchpoints">navigator.maxTouchPoints</h2>
				<p>As the information necessary to populate <a href="https://www.w3.org/TR/pointerevents/#extensions-to-the-navigator-interface"><code>navigator.maxTouchPoints</code></a> is not available in browsers that do not natively implement pointer events, PEP sets the value to <code>0</code>, which is &quot;the minimum number guaranteed to be recognized&quot; as required by the specification.</p>
				<h3 id="browser-compatibility">Browser Compatibility</h3>
				<p>PEP should work on IE 10+ and the latest versions of Chrome, Safari, Firefox, and Opera. In any <a href="http://caniuse.com/#feat=pointer">browser implementing pointer events natively</a> (detected by checking for <code>window.PointerEvent</code>), PEP won&#39;t do anything.</p>
				<h2 id="building-pep">Building PEP</h2>
				<p>If you want to build PEP yourself from source, you&#39;ll need to install <a href="https://nodejs.org/en/download/">Node.js</a> and run the following commands:</p>
				<pre><code class="lang-sh"><span class="hljs-comment"># Install all dependencies</span>
npm install

<span class="hljs-comment"># Build PEP</span>
npm run build
</code></pre>
				<p>When the build completes, the generated files will be available in the <code>dist/</code> directory.</p>
				<p><em>NOTE: Running the demos requires building PEP.</em></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module tsd-is-not-exported">
						<a href="modules/_r.html">_r</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>